{
  "patterns": [
    {
      "id": "no_contact_days",
      "pattern": "haven't (talked|contacted|reached out) (to|in) (\\d+) days?",
      "description": "Find contacts not contacted in X days",
      "database": "contacts",
      "filter_builder": {
        "property": "Last Contact",
        "type": "date",
        "condition": "before",
        "offset_days": "{captured_number}"
      }
    },
    {
      "id": "added_timeframe",
      "pattern": "(contacts?|companies) added (this|last) (week|month|quarter|year)",
      "description": "Find records added in timeframe",
      "database": "{captured_database}",
      "filter_builder": {
        "property": "Created",
        "type": "date",
        "condition": "within",
        "timeframe": "{captured_timeframe}"
      }
    },
    {
      "id": "status_filter",
      "pattern": "(contacts?|companies) (in|with) ([\\w\\s]+) (status|stage)",
      "description": "Filter by status or stage",
      "database": "{captured_database}",
      "filter_builder": {
        "property": "Status",
        "type": "select",
        "condition": "equals",
        "value": "{captured_status}"
      }
    },
    {
      "id": "deal_value",
      "pattern": "deals (over|above|under|below) \\$([0-9,]+)",
      "description": "Filter deals by value (now uses opportunities)",
      "database": "opportunities",
      "filter_builder": {
        "property": "Deal Value",
        "type": "number",
        "condition": "{captured_comparison}",
        "value": "{captured_amount}"
      }
    },
    {
      "id": "opportunities_closing_timeframe",
      "pattern": "(opportunities|deals) closing (this|next) (week|month|quarter)",
      "description": "Find opportunities closing in timeframe",
      "database": "opportunities",
      "filter_builder": {
        "property": "Expected Close Date",
        "type": "date",
        "condition": "within",
        "timeframe": "{captured_timeframe}"
      }
    },
    {
      "id": "hot_opportunities",
      "pattern": "(hot|high probability) (opportunities|deals)",
      "description": "Find high-probability opportunities",
      "database": "opportunities",
      "filter_builder": {
        "property": "Close Probability",
        "type": "number",
        "condition": "greater_than",
        "value": "70"
      }
    },
    {
      "id": "opportunities_by_stage",
      "pattern": "(opportunities|deals) in ([\\w\\s]+) stage",
      "description": "Filter opportunities by stage",
      "database": "opportunities",
      "filter_builder": {
        "property": "Stage",
        "type": "select",
        "condition": "equals",
        "value": "{captured_stage}"
      }
    },
    {
      "id": "large_deals",
      "pattern": "(deals|opportunities) (over|above) \\$([0-9,]+)",
      "description": "Find large value opportunities",
      "database": "opportunities",
      "filter_builder": {
        "property": "Deal Value",
        "type": "number",
        "condition": "greater_than",
        "value": "{captured_amount}"
      }
    },
    {
      "id": "stalled_opportunities",
      "pattern": "stalled (opportunities|deals)",
      "description": "Find opportunities without recent activity",
      "database": "opportunities",
      "filter_builder": {
        "type": "compound",
        "operator": "and",
        "filters": [
          {
            "property": "Stage",
            "type": "select",
            "condition": "not_equals",
            "value": "Closed Won"
          },
          {
            "property": "Stage",
            "type": "select",
            "condition": "not_equals",
            "value": "Closed Lost"
          }
        ]
      }
    },
    {
      "id": "opportunities_by_account",
      "pattern": "(opportunities|deals) for ([\\w\\s]+)",
      "description": "Find opportunities for specific account",
      "database": "opportunities",
      "filter_builder": {
        "property": "Account",
        "type": "relation",
        "condition": "contains",
        "value": "{captured_account}"
      }
    },
    {
      "id": "industry_filter",
      "pattern": "(contacts?|companies) in ([\\w\\s]+) industry",
      "description": "Filter by industry",
      "database": "companies",
      "filter_builder": {
        "property": "Industry",
        "type": "select",
        "condition": "equals",
        "value": "{captured_industry}"
      }
    },
    {
      "id": "hot_leads_no_activity",
      "pattern": "hot (leads?|contacts?) without (activities|recent contact)",
      "description": "Find hot engagement contacts with no recent activities",
      "database": "contacts",
      "filter_builder": {
        "type": "compound",
        "operator": "and",
        "filters": [
          {
            "property": "Engagement Level",
            "type": "select",
            "condition": "equals",
            "value": "üî• Hot"
          },
          {
            "property": "Last Contact",
            "type": "date",
            "condition": "is_empty"
          }
        ]
      }
    },
    {
      "id": "engaged_contacts",
      "pattern": "(all |show )?(engaged|active) contacts?",
      "description": "Show all engaged contacts",
      "database": "contacts",
      "filter_builder": {
        "property": "Engagement Level",
        "type": "select",
        "condition": "equals",
        "value": "‚úÖ Engaged"
      }
    },
    {
      "id": "cold_contacts",
      "pattern": "(all |show )?cold contacts?",
      "description": "Show all cold contacts",
      "database": "contacts",
      "filter_builder": {
        "property": "Engagement Level",
        "type": "select",
        "condition": "equals",
        "value": "‚ùÑÔ∏è Cold"
      }
    },
    {
      "id": "champions",
      "pattern": "(all |show |find )?champions?",
      "description": "Find champion contacts",
      "database": "contacts",
      "filter_builder": {
        "property": "Buying Role",
        "type": "select",
        "condition": "equals",
        "value": "üéØ Champion"
      }
    },
    {
      "id": "economic_buyers",
      "pattern": "(all |show |find )?economic buyers?",
      "description": "Find economic buyer contacts",
      "database": "contacts",
      "filter_builder": {
        "property": "Buying Role",
        "type": "select",
        "condition": "equals",
        "value": "üí∞ Economic Buyer"
      }
    },
    {
      "id": "contacts_timeframe",
      "pattern": "contacts? from (this|last) (week|month|quarter)",
      "description": "Find contacts from timeframe",
      "database": "contacts",
      "filter_builder": {
        "property": "Created",
        "type": "date",
        "condition": "within",
        "timeframe": "{captured_timeframe}"
      }
    }
  ],
  "timeframe_mappings": {
    "this week": {"unit": "week", "offset": 0},
    "last week": {"unit": "week", "offset": -1},
    "this month": {"unit": "month", "offset": 0},
    "last month": {"unit": "month", "offset": -1},
    "this quarter": {"unit": "quarter", "offset": 0},
    "last quarter": {"unit": "quarter", "offset": -1},
    "this year": {"unit": "year", "offset": 0},
    "last year": {"unit": "year", "offset": -1}
  },
  "comparison_mappings": {
    "over": "greater_than",
    "above": "greater_than",
    "under": "less_than",
    "below": "less_than"
  }
}
